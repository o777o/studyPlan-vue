<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>督学系统 - 学习计划</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css">
    <style>
        :root {
            --primary-color: #FFF9C4; /* 淡黄色 */
            --primary-dark: #FFEB3B;
            --secondary-color: #F5F5F5;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border-color: #E0E0E0;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --sidebar-width: 250px;
            --topbar-height: 60px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9f9f9;
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        /* 整体布局 */
        .app-container {
            display: flex;
            height: 100%;
        }

        /* 侧边导航栏 */
        .sidebar {
            width: var(--sidebar-width);
            background-color: white;
            box-shadow: var(--card-shadow);
            z-index: 100;
            display: flex;
            flex-direction: column;
        }

        .logo-container {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--text-primary);
        }

        .logo span {
            color: var(--primary-dark);
        }

        .nav-menu {
            padding: 20px 0;
            flex: 1;
        }

        .nav-item {
            padding: 12px 24px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-secondary);
        }

        .nav-item:hover {
            background-color: var(--primary-color);
            color: var(--text-primary);
        }

        .nav-item.active {
            background-color: var(--primary-color);
            color: var(--text-primary);
            border-left: 4px solid var(--primary-dark);
        }

        .nav-item i {
            margin-right: 12px;
            font-size: 18px;
        }

        .user-info {
            padding: 20px;
            display: flex;
            align-items: center;
            border-top: 1px solid var(--border-color);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            color: var(--text-primary);
            font-weight: bold;
        }

        .user-details {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .user-role {
            font-size: 12px;
            color: var(--text-secondary);
        }

        /* 主内容区 */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* 顶部栏 */
        .topbar {
            height: var(--topbar-height);
            background-color: white;
            box-shadow: var(--card-shadow);
            display: flex;
            align-items: center;
            padding: 0 24px;
            z-index: 90;
        }

        .breadcrumb {
            flex: 1;
            display: flex;
            align-items: center;
        }

        .breadcrumb-item {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .breadcrumb-item:not(:last-child)::after {
            content: '>';
            margin: 0 10px;
            color: var(--text-secondary);
        }

        .breadcrumb-item.active {
            color: var(--text-primary);
            font-weight: 500;
        }

        .topbar-actions {
            display: flex;
            align-items: center;
        }

        .notification-icon {
            position: relative;
            margin-right: 20px;
            cursor: pointer;
            font-size: 18px;
            color: var(--text-secondary);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #FF5252;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-dropdown {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .user-dropdown img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            margin-right: 10px;
        }

        /* 内容区域 */
        .content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            background-color: var(--secondary-color);
            display: flex;
        }

        /* 学习计划三栏布局 */
        .plan-container {
            display: flex;
            flex: 1;
            gap: 24px;
            height: 100%;
        }

        .plan-left {
            width: 25%;
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .plan-center {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .plan-right {
            width: 25%;
            background-color: white;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            padding: 20px;
            overflow-y: auto;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .add-plan-btn {
            background-color: var(--primary-dark);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-plan-btn i {
            margin-right: 8px;
        }

        .add-plan-btn:hover {
            background-color: #fbc02d;
        }

        /* 树状计划列表 */
        .plan-tree {
            list-style: none;
            flex: 1;
            overflow-y: auto;
        }

        .plan-tree li {
            margin-bottom: 8px;
        }

        .tree-item {
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s;
        }

        .tree-item:hover {
            background-color: var(--primary-color);
        }

        .tree-item.active {
            background-color: var(--primary-color);
            font-weight: 500;
        }

        .tree-item i {
            margin-right: 8px;
            font-size: 14px;
        }

        .tree-children {
            margin-left: 24px;
            margin-top: 8px;
        }

        .tree-children .tree-item {
            padding: 8px 10px;
        }

        /* 日历区域 */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .calendar-title {
            font-size: 20px;
            font-weight: 600;
        }

        .calendar-nav button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .calendar-nav button:hover {
            background-color: var(--primary-color);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            flex: 1;
        }

        .calendar-day-header {
            text-align: center;
            padding: 8px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .calendar-day {
            height: 100px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 8px;
            overflow-y: auto;
            transition: all 0.2s;
        }

        .calendar-day:hover {
            background-color: var(--primary-color);
        }

        .calendar-day.empty {
            background-color: #f9f9f9;
            border: none;
        }

        .calendar-day.current {
            background-color: var(--primary-color);
        }

        .calendar-day-header, .calendar-day {
            font-size: 14px;
        }

        .day-number {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .calendar-task {
            background-color: #e3f2fd;
            border-radius: 4px;
            padding: 4px;
            margin-bottom: 4px;
            font-size: 12px;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .calendar-task:hover {
            background-color: #bbdefb;
        }

        /* 任务列表 */
        .task-list {
            list-style: none;
        }

        .task-item {
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 12px;
            background-color: #f9f9f9;
            border-left: 4px solid var(--primary-dark);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .task-title {
            font-weight: 500;
        }

        .task-time {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .task-content {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }

        .task-progress {
            height: 6px;
            background-color: #e0e0e0;
            border-radius: 3px;
            margin-bottom: 8px;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary-dark);
            border-radius: 3px;
        }

        .task-actions {
            display: flex;
            justify-content: flex-end;
        }

        .complete-btn {
            background-color: var(--primary-dark);
            border: none;
            border-radius: 4px;
            padding: 6px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .complete-btn:hover {
            background-color: #fbc02d;
        }

        /* 答题弹窗 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            width: 600px;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: translateY(-20px);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .modal-body {
            padding: 20px;
        }

        .question-container {
            margin-bottom: 20px;
        }

        .question-title {
            font-size: 18px;
            margin-bottom: 16px;
        }

        .options-list {
            list-style: none;
        }

        .option-item {
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-item:hover {
            background-color: var(--primary-color);
        }

        .option-item.selected {
            background-color: var(--primary-color);
            border-color: var(--primary-dark);
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
        }

        .submit-btn {
            background-color: var(--primary-dark);
            border: none;
            border-radius: 4px;
            padding: 10px 24px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .submit-btn:hover {
            background-color: #fbc02d;
        }

        /* 添加计划弹窗 */
        .add-plan-modal .modal-content {
            width: 800px;
        }

        .plan-type-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .plan-type {
            width: 150px;
            height: 150px;
            background-color: var(--primary-color);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .plan-type:hover {
            background-color: var(--primary-dark);
            transform: translateY(-5px);
        }

        .plan-type i {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .plan-type.active {
            background-color: var(--primary-dark);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .form-container {
            display: none;
        }

        .form-container.active {
            display: block;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
        }

        .form-select {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
        }

        .time-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
        }

        .time-table th, .time-table td {
            padding: 8px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .time-table th {
            background-color: var(--primary-color);
        }

        .time-input {
            width: 80px;
            padding: 6px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            text-align: center;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
        }

        .btn {
            padding: 10px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .btn-prev {
            background-color: #e0e0e0;
        }

        .btn-prev:hover {
            background-color: #d0d0d0;
        }

        .btn-next, .btn-submit {
            background-color: var(--primary-dark);
            color: white;
        }

        .btn-next:hover, .btn-submit:hover {
            background-color: #fbc02d;
        }

        /* 响应式调整 */
        @media (max-width: 1200px) {
            .plan-container {
                flex-direction: column;
            }
            
            .plan-left, .plan-center, .plan-right {
                width: 100%;
            }
            
            .plan-center {
                min-height: 500px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- 左侧导航栏 -->
        <div class="sidebar">
            <div class="logo-container">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span class="logo-text">督学系统</span>
                </div>
            </div>
            
            <div class="nav-menu">
                <div class="nav-item">
                    <i class="fas fa-home"></i>
                    <span class="nav-text">首页概览</span>
                </div>
                <div class="nav-item active">
                    <i class="fas fa-book"></i>
                    <span class="nav-text">学习计划</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span class="nav-text">任务日历</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-tasks"></i>
                    <span class="nav-text">任务管理</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-comments"></i>
                    <span class="nav-text">树洞鸭聊天</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-bookmark"></i>
                    <span class="nav-text">错题本</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-chart-line"></i>
                    <span class="nav-text">学习分析</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span class="nav-text">系统设置</span>
                </div>
            </div>
            
            <div class="user-info">
                <div class="user-avatar">张</div>
                <div class="user-details">
                    <div class="user-name">张同学</div>
                    <div class="user-role">学生用户</div>
                </div>
            </div>
        </div>
        
        <!-- 主内容区 -->
        <div class="main-content">
            <!-- 顶部栏 -->
            <div class="topbar">
                <div class="breadcrumb">
                    <div class="breadcrumb-item">首页</div>
                    <div class="breadcrumb-item active">学习计划</div>
                </div>
                
                <div class="topbar-actions">
                    <div class="notification-icon">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </div>
                    <div class="user-dropdown">
                        <div class="user-avatar">张</div>
                        <span>张同学</span>
                    </div>
                </div>
            </div>
            
            <!-- 内容区域 -->
            <div class="content">
                <div class="plan-container">
                    <!-- 左侧计划树 -->
                    <div class="plan-left">
                        <div class="section-title">我的学习计划</div>
                        <button class="add-plan-btn" onclick="openAddPlanModal()">
                            <i class="fas fa-plus"></i> 添加学习计划
                        </button>
                        <ul class="plan-tree">
                            <li>
                                <div class="tree-item active">
                                    <i class="fas fa-calendar"></i>
                                    <span>2025年学习计划</span>
                                </div>
                                <ul class="tree-children">
                                    <li>
                                        <div class="tree-item">
                                            <i class="fas fa-calendar-alt"></i>
                                            <span>1月计划</span>
                                        </div>
                                        <ul class="tree-children">
                                            <li>
                                                <div class="tree-item">
                                                    <i class="fas fa-calendar-week"></i>
                                                    <span>第1周 (1.1-1.7)</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="tree-item">
                                                    <i class="fas fa-calendar-week"></i>
                                                    <span>第2周 (1.8-1.14)</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <div class="tree-item">
                                            <i class="fas fa-calendar-alt"></i>
                                            <span>2月计划</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="tree-item">
                                            <i class="fas fa-calendar-alt"></i>
                                            <span>9月计划</span>
                                        </div>
                                        <ul class="tree-children">
                                            <li>
                                                <div class="tree-item">
                                                    <i class="fas fa-calendar-week"></i>
                                                    <span>第36周 (9.1-9.7)</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="tree-item">
                                                    <i class="fas fa-calendar-week"></i>
                                                    <span>第37周 (9.8-9.14)</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="tree-item">
                                                    <i class="fas fa-calendar-week"></i>
                                                    <span>第38周 (9.15-9.21)</span>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="tree-item">
                                                    <i class="fas fa-calendar-week"></i>
                                                    <span>第39周 (9.22-9.28)</span>
                                                </div>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="tree-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>2024年学习计划</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- 中间日历区域 -->
                    <div class="plan-center">
                        <div class="calendar-header">
                            <div class="calendar-title">2025年9月</div>
                            <div class="calendar-nav">
                                <button id="prev-month"><i class="fas fa-chevron-left"></i></button>
                                <button id="today">今天</button>
                                <button id="next-month"><i class="fas fa-chevron-right"></i></button>
                            </div>
                        </div>
                        
                        <div class="calendar-grid">
                            <div class="calendar-day-header">周日</div>
                            <div class="calendar-day-header">周一</div>
                            <div class="calendar-day-header">周二</div>
                            <div class="calendar-day-header">周三</div>
                            <div class="calendar-day-header">周四</div>
                            <div class="calendar-day-header">周五</div>
                            <div class="calendar-day-header">周六</div>
                            
                            <!-- 日历占位符 -->
                            <div class="calendar-day empty"></div>
                            <div class="calendar-day empty"></div>
                            <div class="calendar-day">1</div>
                            <div class="calendar-day">2</div>
                            <div class="calendar-day">3</div>
                            <div class="calendar-day">4</div>
                            <div class="calendar-day">5</div>
                            
                            <div class="calendar-day">6</div>
                            <div class="calendar-day">7</div>
                            <div class="calendar-day">8</div>
                            <div class="calendar-day">9</div>
                            <div class="calendar-day">10</div>
                            <div class="calendar-day">11</div>
                            <div class="calendar-day">12</div>
                            
                            <div class="calendar-day">13</div>
                            <div class="calendar-day">14</div>
                            <div class="calendar-day">15</div>
                            <div class="calendar-day">16</div>
                            <div class="calendar-day">17</div>
                            <div class="calendar-day">18</div>
                            <div class="calendar-day">19</div>
                            
                            <div class="calendar-day">20</div>
                            <div class="calendar-day">21</div>
                            <div class="calendar-day">22</div>
                            <div class="calendar-day">23</div>
                            <div class="calendar-day">24</div>
                            <div class="calendar-day">25</div>
                            <div class="calendar-day">26</div>
                            
                            <div class="calendar-day">27</div>
                            <div class="calendar-day">28</div>
                            <div class="calendar-day">29</div>
                            <极简日历-day>30</极简日历-day>
                            <div class="calendar-day empty"></div>
                            <div class="calendar-day empty"></div>
                            <div class="calendar-day empty"></div>
                        </div>
                    </div>
                    
                    <!-- 右侧任务列表 -->
                    <div class="plan-right">
                        <div class="section-title">2025年9月4日任务</div>
                        <ul class="task-list">
                            <li class="task-item">
                                <div class="task-header">
                                    <div class="task-title">行测模拟练习</div>
                                    <div class="task-time">09:00-10:30</div>
                                </div>
                                <div class="极简内容">
                                    完成一套行测模拟题，包含言语理解、数量关系、判断推理和资料分析四个部分
                                </div>
                                <div class="task-progress">
                                    <div class="progress-bar" style="width: 60%"></div>
                                </div>
                                <div class="task-actions">
                                    <button class="complete-btn" onclick="openQuestionModal()">完成任务</button>
                                </div>
                            </li>
                            <li class="task-item">
                                <div class="task-header">
                                    <div class="task-title">申论写作练习</div>
                                    <div class="task-time">14:00-15:30</div>
                                </div>
                                <div class="task-content">
                                    根据给定材料，完成一篇800字左右的申论文章
                                </div>
                                <div class="task-progress">
                                    <div class="progress-bar" style="width: 30%"></极简>
                                </div>
                                <div class="task-actions">
                                    <button class="complete-btn" onclick="openQuestionModal()">完成任务</button>
                                </div>
                            </li>
                            <li class="task-item">
                                <div class="task-header">
                                    <div class="task-title">错题复习</div>
                                    <div class="task-time">19:00-20:00</div>
                                </div>
                                <div class="task-content">
                                    复习本周错题本中的10道重点题目
                                </div>
                                <div class="task-progress">
                                    <div class="progress-bar" style="width: 20%"></div>
                                </div>
                                <div class="task-actions">
                                    <button class="complete-btn" onclick="openQuestionModal()">完成任务</button>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 答题弹窗 -->
    <div class="modal-overlay" id="question-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">完成任务：行测模拟练习</div>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="question-container">
                    <div class="question-title">
                        1. 下列选项中，与"苹果"关系最不相似的是：
                    </div>
                    <ul class="options-list">
                        <li class="option-item" onclick="selectOption(this)">A. 香蕉</li>
                        <li class="option-item" onclick="selectOption(this)">B. 橙子</li>
                        <li class="option-item" onclick="selectOption(this)">C. 土豆</li>
                        <li class="option-item" onclick="selectOption(this)">D. 葡萄</li>
                    </ul>
                </div>
                
                <div class="question-container">
                    <div class="question-title">
                        2. 某公司去年有员工830人，今年男员工人数比去年减少6%，女员工人数比去年增加5%，员工总数比去年增加3人。问今年男员工有多少人？
                    </div>
                    <ul class="options-list">
                        <li class="option-item" onclick="selectOption(this)">A. 329</li>
                        <li class="option-item" onclick="selectOption(this)">B. 350</li>
                        <li class="option-item" onclick="selectOption(this)">C. 371</li>
                        <li class="option-item" onclick="selectOption(this)">D. 504</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="submit-btn" onclick="submitAnswers()">提交答案</button>
            </div>
        </div>
    </div>

    <!-- 添加计划弹窗 -->
    <div class="modal-overlay add-plan-modal" id="add-plan-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">添加学习计划</div>
                <button class="close-btn" onclick="closeAddPlanModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- 类型选择页面 -->
                <div id="type-selection" class="form-container active">
                    <p style="text-align: center; margin-bottom: 20px;">请选择学习计划类型</p>
                    <div class="plan-type-container">
                        <div class="plan-type" onclick="selectPlanType('civil-service')">
                            <i class="fas fa-landmark"></i>
                            <span>考公</span>
                        </div>
                        <div class="plan-type" onclick="selectPlanType('postgraduate')">
                            <i class="fas fa-graduation-cap"></i>
                            <span>考研</span>
                        </div>
                        <div class="plan-type" onclick="selectPlanType('certification')">
                            <i class="fas fa-certificate"></i>
                            <span>考证</span>
                        </div>
                    </div>
                </div>
                
                <!-- 考公信息填写页面 -->
                <div id="civil-service-form" class="form-container">
                    <div class="form-group">
                        <label class="form-label">目标城市</label>
                        <input type="text" class="form-input" placeholder="请输入目标城市">
                    </div>
                    <div class="form-group">
                        <label class="form-label">目标岗位</label>
                        <input type="text" class="form-input" placeholder="请输入目标岗位">
                    </div>
                    <div class="form-group">
                        <label class="form-label">考试时间</label>
                        <input type="date" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">考生类型</label>
                        <select class="form-select">
                            <option value="">请选择考生类型</option>
                            <option value="full-time">脱产考生</option>
                            <option value="part-time">在职考生</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">可用于学习的时间</label>
                        <table class="time-table">
                            <thead>
                                <tr>
                                    <th>星期</th>
                                    <th>开始时间</th>
                                    <th>结束时间</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>星期一</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期二</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期三</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期四</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期五</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期六</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期日</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group">
                        <label class="form-label">当前备考进度</label>
                        <textarea class="form-input" placeholder="请输入当前备考进度（最多100字）" rows="3" maxlength="100"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-prev" onclick="goBackToTypeSelection()">上一步</button>
                        <button class="btn btn-submit" onclick="submitPlan()">提交计划</button>
                    </div>
                </div>
                
                <!-- 考研信息填写页面 -->
                <div id="postgraduate-form" class="form-container">
                    <div class="form-group">
                        <label class="form-label">目标学校</label>
                        <input type="text" class="form-input" placeholder="请输入目标学校">
                    </div>
                    <div class="form-group">
                        <label class="form-label">目标专业</label>
                        <input type="text" class="form-input" placeholder="请输入目标专业">
                    </div>
                    <div class="form-group">
                        <label class="form-label">考试时间</label>
                        <input type="date" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">考生类型</label>
                        <select class="form-select">
                            <option value="">请选择考生类型</option>
                            <option value="full-time">脱产考生</option>
                            <option value="part-time">在职考生</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">可用于学习的时间</label>
                        <table class="time-table">
                            <thead>
                                <tr>
                                    <th>星期</th>
                                    <th>开始时间</th>
                                    <th>结束时间</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>星期一</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期二</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期三</极简>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期四</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期五</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期六</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期日</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group">
                        <label class="form-label">当前备考进度</label>
                        <textarea class="form-input" placeholder="请输入当前备考进度（最多100字）" rows="3" maxlength="100"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-prev" onclick="goBackToTypeSelection()">上一步</button>
                        <button class="btn btn-submit" onclick="submitPlan()">提交计划</button>
                    </div>
                </div>
                
                <!-- 考证信息填写页面 -->
                <div id="certification-form" class="form-container">
                    <div class="form-group">
                        <label class="form-label">目标证书</label>
                        <input type="text" class="form-input" placeholder="请输入目标证书">
                    </div>
                    <div class="form-group">
                        <label class="form-label">考试时间</label>
                        <input type="date" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">考生类型</label>
                        <select class="form-select">
                            <option value="">请选择考生类型</option>
                            <option value="full-time">脱产考生</option>
                            <option value="part-time">在职考生</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">可用于学习的时间</label>
                        <table class="time-table">
                            <thead>
                                <tr>
                                    <th>星期</th>
                                    <th>开始时间</th>
                                    <th>结束时间</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>星期一</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期二</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期三</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期四</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期五</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期六</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                                <tr>
                                    <td>星期日</td>
                                    <td><input type="time" class="time-input" value="09:00"></td>
                                    <td><input type="time" class="time-input" value="21:00"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group">
                        <label class="form-label">当前备考进度</label>
                        <textarea class="form-input" placeholder="请输入当前备考进度（最多100字）" rows="3" maxlength="100"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-prev" onclick="goBackToTypeSelection()">上一步</button>
                        <button class="btn btn-submit" onclick="submitPlan()">提交计划</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 树状结构点击事件
        document.querySelectorAll('.tree-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.stopPropagation();
                
                // 移除所有激活状态
                document.querySelectorAll('.tree-item').forEach(i => {
                    i.classList.remove('active');
                });
                
                // 添加当前激活状态
                this.classList.add('active');
            });
        });
        
        // 日历导航
        document.getElementById('prev-month').addEventListener('click', function() {
            alert('切换到上个月');
        });
        
        document.getElementById('next-month').addEventListener('click', function() {
            alert('切换到下个月');
        });
        
        document.getElementById('today').addEventListener('click', function() {
            alert('回到今天');
        });
        
        // 日历日期点击
        document.querySelectorAll('.calendar-day:not(.empty)').forEach(day => {
            day.addEventListener('click', function() {
                // 移除所有当前日期样式
                document.querySelectorAll('.calendar-day').forEach(d => {
                    d.classList.remove('current');
                });
                
                // 添加当前日期样式
                this.classList.add('current');
                
                // 更新右侧任务列表标题
                document.querySelector('.section-title').textContent = 
                    `2025年9月${this.textContent.trim()}日任务`;
            });
        });
        
        // 答题弹窗
        function openQuestionModal() {
            document.getElementById('question-modal').classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('question-modal').classList.remove('active');
        }
        
        function selectOption(element) {
            // 移除同问题下的所有选中状态
            const questionContainer = element.closest('.question-container');
            questionContainer.querySelectorAll('.option-item').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // 添加当前选中状态
            element.classList.add('selected');
        }
        
        function submitAnswers() {
            const selectedOptions = document.querySelectorAll('.option-item.selected');
            if (selectedOptions.length < 2) {
                alert('请完成所有题目');
                return;
            }
            
            alert('答案已提交！任务完成');
            closeModal();
        }
        
        // 初始化当前日期
        document.querySelector('.calendar-day').classList.add('current');
        
        // 添加计划弹窗功能
        function openAddPlanModal() {
            document.getElementById('add-plan-modal').classList.add('active');
            resetPlanForms();
        }
        
        function closeAddPlanModal() {
            document.getElementById('add-plan-modal').classList.remove('active');
        }
        
        function selectPlanType(type) {
            // 移除所有类型选中状态
            document.querySelectorAll('.plan-type').forEach(item => {
                item.classList.remove('active');
            });
            
            // 添加当前选中状态
            event.currentTarget.classList.add('active');
            
            // 隐藏所有表单
            document.querySelectorAll('.form-container').forEach(form => {
                form.classList.remove('active');
            });
            
            // 显示对应表单
            document.getElementById(`${type}-form`).classList.add('active');
        }
        
        function goBackToTypeSelection() {
            // 隐藏所有表单
            document.querySelectorAll('.form-container').forEach(form => {
                form.classList.remove('active');
            });
            
            // 显示类型选择
            document.getElementById('type-selection').classList.add('active');
            
            // 移除所有类型选中状态
            document.querySelectorAll('.plan-type').forEach(item => {
                item.classList.remove('active');
            });
        }
        
        function resetPlanForms() {
            // 重置所有表单字段
            document.querySelectorAll('.form-input, .form-select').forEach(input => {
                if (input.type === 'text' || input.type === 'textarea') {
                    input.value = '';
                } else if (input.type === 'date') {
                    input.value = '';
                } else if (input.type === 'time') {
                    input.value = '09:00';
                }
            });
            
            // 重置选择器
            document.querySelectorAll('.form-select').forEach(select => {
                select.selectedIndex = 0;
            });
            
            // 显示类型选择
            goBackToTypeSelection();
        }
        
        function submitPlan() {
            alert('学习计划已提交！');
            closeAddPlanModal();
        }
    </script>
</body>
</html>